.tipex-editor {
  @apply flex flex-row gap-0 rounded-lg py-0 duration-200 overflow-y-hidden bg-white dark:bg-gray-950 border border-gray-200 dark:border-gray-800;
  transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.tipex-editor.focused.focal {
  @apply outline-none border-gray-300 dark:border-gray-700;
  box-shadow: 0 0 0 2px rgb(59 130 246 / 0.2);
}

.tipex-editor-wrap {
  @apply flex flex-col gap-0 h-full w-full;
}

.tipex-editor-section {
  @apply px-tipex-sm py-tipex-md h-full overflow-y-auto;
}

/* Control Components */
.tipex-controller {
  @apply flex flex-row flex-wrap md:flex-row gap-2 sticky bottom-0 py-2 px-3 rounded-b-lg bg-gray-50/80 dark:bg-gray-900/80 border-t border-gray-200 dark:border-gray-800 backdrop-blur-sm relative;
  z-index: var(--z-tipex-controls);
}

.tipex-basic-controller-wrapper {
  @apply flex gap-0.5 flex-wrap items-center;
}

.tipex-edit-button {
  @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 disabled:pointer-events-none disabled:opacity-50 dark:focus-visible:ring-gray-300 h-9 px-3 bg-transparent hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50 text-gray-700 dark:text-gray-400;
}

.tipex-button-rigid {
  @apply min-w-9;
}

.tipex-button-free {
  @apply min-w-9;
}

.tipex-button-extra {
  /* Additional button styling can go here */
}

.tipex-edit-button.active {
  @apply bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-50;
}

/* Copy success state - more specific selector */
.tipex-utilities .tipex-edit-button.active {
  @apply bg-green-50 border-green-200 text-green-600 dark:bg-green-900/20 dark:border-green-700 dark:text-green-400;
}

.tipex-utilities .tipex-edit-button.active svg {
  @apply text-green-600 dark:text-green-400;
}

.tipex-edit-button:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.tipex-edit-button:disabled:hover {
  @apply bg-transparent text-gray-700 dark:text-gray-400;
  transform: none;
}

/* Floating Menu */
.tipex-floating-menu {
  @apply rounded-lg p-2 gap-1 bg-white dark:bg-gray-950 border border-gray-200 dark:border-gray-800 shadow-md;
  z-index: var(--z-tipex-floating);
  animation: tipex-float-in 0.15s ease-out;
}

@keyframes tipex-float-in {
  from {
    opacity: 0;
    transform: translateY(2px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Link Components */
.tipex-link-input {
  @apply flex h-9 w-full rounded-md border border-gray-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:placeholder:text-gray-400 dark:focus-visible:ring-gray-300;
}

.tipex-link-button {
  @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 disabled:pointer-events-none disabled:opacity-50 dark:focus-visible:ring-gray-300 bg-gray-900 text-gray-50 shadow hover:bg-gray-900/90 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90 h-9 px-4 py-2;
}

/* Link edit input group */
.tipex-link-edit-input-group {
  @apply absolute bottom-full right-0 mb-2 flex gap-2 items-center p-3 min-w-80 z-50;
  background: linear-gradient(135deg, 
    rgb(255 255 255 / 0.95) 0%, 
    rgb(248 250 252 / 0.9) 100%);
  border: 1px solid rgb(226 232 240 / 0.8);
  border-radius: 12px;
  box-shadow: 
    0 10px 25px -5px rgb(0 0 0 / 0.1),
    0 4px 6px -2px rgb(0 0 0 / 0.05),
    inset 0 1px 0 rgb(255 255 255 / 0.4);
  backdrop-filter: blur(12px);
  animation: tipex-link-tooltip-in 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.dark .tipex-link-edit-input-group {
  background: linear-gradient(135deg, 
    rgb(31 41 55 / 0.95) 0%, 
    rgb(17 24 39 / 0.9) 100%);
  border: 1px solid rgb(71 85 105 / 0.8);
  box-shadow: 
    0 10px 25px -5px rgb(0 0 0 / 0.3),
    0 4px 6px -2px rgb(0 0 0 / 0.2),
    inset 0 1px 0 rgb(255 255 255 / 0.1);
}

/* Tooltip arrow */
.tipex-link-edit-input-group::after {
  content: '';
  position: absolute;
  top: 100%;
  right: 16px;
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 8px solid rgb(248 250 252 / 0.9);
}

.dark .tipex-link-edit-input-group::after {
  border-top-color: rgb(31 41 55 / 0.95);
}

.tipex-link-edit-input-group input {
  @apply flex-1 h-9 px-3 text-sm bg-white/50 dark:bg-gray-800/50 border border-gray-200/60 dark:border-gray-600/60 rounded-md outline-none placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:border-blue-400 dark:focus:border-blue-500 focus:bg-white dark:focus:bg-gray-800 transition-all duration-200;
}

.tipex-link-edit-input-group .save-button {
  @apply h-9 px-4 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500/50;
}

.tipex-link-edit-input-group .close-button {
  @apply h-9 w-9 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100/50 dark:hover:bg-gray-700/50 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500/50;
}

@keyframes tipex-link-tooltip-in {
  from {
    opacity: 0;
    transform: translateY(4px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}