<script lang="ts">
	import Tipex from '$lib/tipex/tipex/Tipex.svelte';
	import '$lib/tipex/styles/ProseMirror.css';

	import PropsTable from '$item/PropsTable.svelte';
	import codes from '$item/codes/index.js';
	import ThemeToggle from '$item/ThemeToggle.svelte';
	import { page } from '$app/state';
	import type { Editor } from '@tiptap/core';
	import SimpleIconsBuymeacoffee from '../icons/SimpleIconsBuymeacoffee.svelte';
	import Fa6BrandsGithub from '../icons/Fa6BrandsGithub.svelte';
	import LogosNpmIcon from '../icons/LogosNpmIcon.svelte';

	let editor: Editor | undefined = $state();

	const htmlContent = $derived(editor?.getHTML());
	// $inspect('htmlContent', htmlContent);
</script>

<svelte:head>
	<title>Tipex Editor - Svelte Text Editor | Friend Of Svelte</title>
	<meta name="description"
				content="Tipex editor, a rich text editor for Svelte, a beautiful and extremely customizable editor for Svelte.">
</svelte:head>


<div class="head-section">
	<h1>Tipex Editor
		<span
			class="text-sm text-neutral-600 dark:text-neutral-300 bg-neutral-100 dark:bg-neutral-800 px-2 py-1 rounded">
			{__VERSION__}
		</span>
	</h1>
	<div class="icon-link-section">
		<a class="w-8 h-8 rounded-2xl"
			 aria-label="NPM Package"
			 href="https://www.npmjs.com/package/@friendofsvelte/tipex"
			 target="_blank" rel="noopener">
			<LogosNpmIcon class="w-4" />
		</a>
		<a
			class="px-2 h-8 rounded-2xl gap-1"
			href="https://github.com/friendofsvelte/tipex"
			target="_blank" rel="noopener">
			<Fa6BrandsGithub class="text-gray-700 dark:text-gray-200 w-4" />
			{#if page.data.repo && 'stargazers_count' in page.data.repo}
				<span class="ml-1 text-gray-600 dark:text-gray-400">{page.data.repo.stargazers_count}+</span>
			{/if}
		</a>
		<a class="h-8 px-3 flex items-center gap-2 shrink-0 rounded-2xl !text-yellow-600"
			 href="https://www.buymeacoffee.com/bishwasbh"
			 target="_blank" rel="noopener">
			<SimpleIconsBuymeacoffee class="w-4" />
			<span class="text-sm">Wanna share?</span>
		</a>
		<ThemeToggle />
	</div>
</div>

<p>
	Tipex stands as an advanced rich text editor tailored for Svelte, meticulously engineered with the robust
	frameworks <a target="_blank" rel="noopener" href="https://tiptap.dev/">Tiptap</a> and
	<a target="_blank" rel="noopener noreferrer" href="https://prosemirror.net/">Prosemirror</a>. It
	empowers developers to effortlessly craft rich text editors, liberating
	them from the intricacies of underlying technologies, style management, and related complexities.
</p>


<Tipex
	body={codes.body} bind:tipex={editor}
	controls floating focal
	class="h-[70vh] border border-neutral-200
	dark:border-neutral-700 shadow-xl mt-3"
>
</Tipex>

<h2 class="mt-8">Installation</h2>
<p>
	Install the package from <a href="https://www.npmjs.com/package/@friendofsvelte/tipex"
															target="_blank" rel="noopener">NPM</a>.
</p>
<pre class="language-shell"><code>{`${codes.install}`}</code></pre>

<h2 class="mt-8">Usage</h2>
<p>
	Import the component and use it in your component.
</p>
<pre class="language-svelte"><code>{`${codes.usage}`}</code></pre>

<h3 class="mt-7">Quick short-hands</h3>
<ul class="list-disc pl-5 text-black dark:text-white">
	<li>
		<code>!controls</code>: Disable the control buttons, or <code>controls={false}</code>.
	</li>
	<li>
		<code>!floating</code>: Disable the floating toolbar, or <code>floating={false}</code>.
	</li>
	<li>
		<code>!focal</code>: Disable the focal point, or <code>focal={false}</code>.
	</li>
</ul>

<h2 class="mt-8">Styling</h2>
<p>
	Tipex comes with a default style. You can use it by importing the following CSS file inside the
	<code>{'script'}</code> tag.
</p>
<pre class="language-typescript"><code>{`${codes.styling}`}</code></pre>


<blockquote class="mt-2">
	<p>
		The import for <code>@friendofsvelte/tipex/styles/ProseMirror.css</code> is used to
		style content written in the editor. You can use your own style or use the default one.
		Or, remove any CSS you don't wanna use.
	</p>
</blockquote>

<h2 class="mt-8">Props</h2>
<p>
	Tipex component accepts following props.
</p>
<PropsTable />

<h2 class="mt-8">Accessing Editor Instance</h2>
<p>
	You can access the editor instance via:
</p>
<pre class="language-svelte"><code>{`${codes.access}`}</code></pre>
<p>
	The editor instance is stored in a store. You can use it to access the editor instance
	from anywhere in your app.
</p>

<h2 class="mt-8">Customizing Editor</h2>
<p>
	Tipex is built taking into consideration the need for customization. We believe that
	a software lacking customization is a software lacking soul. Tipex provides an extensive
	set of options to customize the editor to your heart's content. From functionality, style,
	to key bindings, you can customize almost everything. Visit the
	<a href="/customization"> customization page</a> to learn more.
</p>

<h2 class="mt-8">Commands</h2>
<p>
	You can use the <code>editor.commands</code> API to interact with the editor. The API is
	compatible with the <a href="https://tiptap.dev" target="_blank" rel="noopener noreferrer">TipTap</a>
	commands. Visit the <a href="/commands">commands page</a> to learn more.
</p>

<h2 class="mt-4">About Friend Of Svelte</h2>
<div class="flex flex-col md:flex-row gap-2 md:gap-3 mb-2 mt-2">
	<img src="https://avatars.githubusercontent.com/u/143795012?s=200&v=4" alt="Friend Of Svelte Logo"
			 class="w-12 h-12 rounded" />
	<p>
		<a href="https://github.com/friendofsvelte" target="_blank" rel="noopener">Friend Of
			Svelte</a> is a
		community driven project to help Svelte developers to find and develop awesome Svelte resources.
	</p>
</div>

<p>
	If you like this project, you can be one of the friend by contributing to the project. Memberships are open
	for everyone.
</p>
<blockquote class="mt-2">
	<p>
		Read about my quest on becoming a top notch, master
		<a href="https://bishwas.net/svelte-developer"
			 class="text-blue-600 hover:underline"
			 target="_blank">Svelte developer</a>.
	</p>
</blockquote>


<style>
</style>